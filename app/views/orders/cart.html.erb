<div class="container cart">
  <% if @order.id.present? %>
    <% status_in_int = Order.statuses[@order.statuses] %>
    <div style="text-align: center; font-size: 16px;" class="bg-<%= State::BOOTSTRAP_CLASS[status_in_int] %> text-white">
      <%= @order.statuses %>
    </div>
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th>#</th>
          <th>Product</th>
          <th>Price</th>
          <th>Quantity</th>
        </tr>
      </thead>
      <tbody>
        <% @order.order_lines.each_with_index do |line, index| %>
          <%= render partial: 'order_line', locals: {line: line, index: index} %>
        <% end %>
        <% if @order.id.present? %>
          <tr style="font-size: 16px; font-weight: bold" class="alert alert-success">
            <td></td>
            <td>Total</td><td></td>
            <td><%= @order.total %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  <% else %>
  <% end %>

  <div class="cart-function" style="text-align: center">
    <% status_in_int = Order.statuses[@order.statuses] %>
    <% if @order.id.present? %>
      <% if status_in_int == Order.statuses['in_progress'] %>
        <%= link_to 'Place', order_path(@order), method: 'patch', class: "btn btn-success"%>
      <% end %>
      <%= link_to 'Cancer', order_path(@order), method: 'delete', class: 'btn btn-warning' %>
    <% else %>
      <p class="alert alert-warning" style="font-size: 16px;">
        Empty cart!
      </p>
      <div style="text-align: center">
        <%= link_to 'See all receipts', orders_path, class: 'btn btn-success' %>
      </div>
    <% end %>
  </div>
</div>
